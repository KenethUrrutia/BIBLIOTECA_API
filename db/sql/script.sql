-- MySQL Script generated by MySQL Workbench

SET @OLD_UNIQUE_CHECKS = @@UNIQUE_CHECKS, UNIQUE_CHECKS = 0;

SET
    @OLD_FOREIGN_KEY_CHECKS = @@FOREIGN_KEY_CHECKS,
    FOREIGN_KEY_CHECKS = 0;

SET
    @OLD_SQL_MODE = @@SQL_MODE,
    SQL_MODE = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema BIBLIOTECADB
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema BIBLIOTECADB
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `BIBLIOTECADB` DEFAULT CHARACTER SET utf8;

USE `BIBLIOTECADB`;

-- -----------------------------------------------------
-- Table `BIBLIOTECADB`.`USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BIBLIOTECADB`.`USUARIO` (
    `IDUSUARIO` INT NOT NULL,
    `NOMBRE` VARCHAR(200) NOT NULL,
    `APELLIDO` VARCHAR(200) NULL,
    `EDAD` TINYINT(2) NOT NULL,
    `CORREO` VARCHAR(45) NOT NULL,
    `PASSWORD` VARCHAR(20) NOT NULL,
    PRIMARY KEY (`IDUSUARIO`)
);

-- -----------------------------------------------------
-- Table `BIBLIOTECADB`.`GENERO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BIBLIOTECADB`.`GENERO` (
    `IDGENERO` INT NOT NULL,
    `NOMBRE` VARCHAR(10) NOT NULL,
    PRIMARY KEY (`IDGENERO`)
);

-- -----------------------------------------------------
-- Table `BIBLIOTECADB`.`LIBRO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BIBLIOTECADB`.`LIBRO` (
    `IDLIBRO` INT NOT NULL,
    `TITULO` VARCHAR(200) NOT NULL,
    `AUTOR` VARCHAR(100) NULL,
    `ANIO_PUBLICACION` DATE NULL,
    `IDGENERO` INT NOT NULL,
    PRIMARY KEY (`IDLIBRO`),
    CONSTRAINT `fk_LIBRO_GENERO` FOREIGN KEY (`IDGENERO`) REFERENCES `BIBLIOTECADB`.`GENERO` (`IDGENERO`) ON DELETE NO ACTION ON UPDATE NO ACTION
);

-- -----------------------------------------------------
-- Table `BIBLIOTECADB`.`ESTADO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BIBLIOTECADB`.`ESTADO` (
    `IDESTADO` INT NOT NULL,
    `NOMBRE` VARCHAR(45) NULL,
    PRIMARY KEY (`IDESTADO`)
);

-- -----------------------------------------------------
-- Table `BIBLIOTECADB`.`PRESTAMO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `BIBLIOTECADB`.`PRESTAMO` (
    `IDUSUARIO` INT NOT NULL,
    `IDLIBRO` INT NOT NULL,
    `IDPRESTAMO` INT NOT NULL,
    `FECHA_PRESTAMO` DATETIME NOT NULL,
    `FECHA_DEVOLUCION` DATETIME NULL,
    `ESTADO` VARCHAR(45) NULL,
    `IDESTADO` INT NOT NULL,
    PRIMARY KEY (`IDPRESTAMO`),
    CONSTRAINT `fk_PRESTAMO_USUARIO1` FOREIGN KEY (`IDUSUARIO`) REFERENCES `BIBLIOTECADB`.`USUARIO` (`IDUSUARIO`) ON DELETE NO ACTION ON UPDATE NO ACTION,
    CONSTRAINT `fk_PRESTAMO_LIBRO1` FOREIGN KEY (`IDLIBRO`) REFERENCES `BIBLIOTECADB`.`LIBRO` (`IDLIBRO`) ON DELETE NO ACTION ON UPDATE NO ACTION,
    CONSTRAINT `fk_PRESTAMO_ESTADO1` FOREIGN KEY (`IDESTADO`) REFERENCES `BIBLIOTECADB`.`ESTADO` (`IDESTADO`) ON DELETE NO ACTION ON UPDATE NO ACTION
);

SET SQL_MODE = @OLD_SQL_MODE;

SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS;

SET UNIQUE_CHECKS = @OLD_UNIQUE_CHECKS;